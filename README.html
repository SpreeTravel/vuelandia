<p>The <code>vuelandia</code> gem interfaces with the <a href="http://www.vuelandia.com/">Vuelandia.com</a> API to search for and book hotel rooms.</p>

<h2>Installation</h2>

<p>I'm sure you know how to install Ruby gems by now...</p>

<p>In your Gemfile, before a <code>bundle install</code>, add:</p>

<pre><code>gem "vuelandia", "~&gt; X.X.X"
</code></pre>

<p><strong>Note:</strong> you'll need to replace <code>X.X.X</code> in the example above with the <a href="https://rubygems.org/gems/vuelandia">latest gem version</a> visible in the badge above.</p>

<p>Manually, via command line:</p>

<pre><code>gem install vuelandia
</code></pre>

<h2>Usage</h2>

<h3>Create the connection to Vuelandia</h3>

<pre><code>client = Vuelandia::Client.new(user: "user", password: "pass"[, endpoint: :test, proxy: proxy])
</code></pre>

<ul>
<li>endpoint can be either <code>:test</code> or <code>:live</code> </li>
<li>proxy is a hash with keys <code>:address</code>, <code>:port</code>, <code>:user</code>, <code>:password</code></li>
</ul>

<h3>Perform the search</h3>

<pre><code>search = client.perform_XXX(parameters)
</code></pre>

<ul>
<li>The reponse to a search is a <code>Net::HTTP</code> response and its body is the reponse XML to your query. You can use this XML however you want, but usually you would want to parse it</li>
</ul>

<h3>Parse the XML</h3>

<pre><code>parser = Vuelandia::Parser.new
data = parser.parse_XXX(search.body, [type: type])
</code></pre>

<ul>
<li><code>type</code> can be <code>:file</code> but it's <code>:string</code> by default</li>
<li><code>data</code> is an object which properties depends on the query made</li>
<li>Format of parsed data depends on the type of query made.</li>
</ul>

<p><strong>Note:</strong> you'll need to replace <code>XXX</code> in the examples above with the name of the query you want to perform</p>

<h2>Available queries</h2>

<ul>
<li><p><code>perform_search_availability</code></p>

<ul>
<li><p>Parameters</p>

<ul>
<li>Required
<ul>
<li><code>:destination</code></li>
<li><code>:check\_in\_date</code> (format: 'YYYY-MM-DD')</li>
<li><code>:check\_out\_date</code> (format: 'YYYY-MM-DD')</li>
<li><code>:occupancy</code></li>
</ul></li>
<li><p>Optional</p>

<ul>
<li><code>:language</code></li>
<li><code>:hotel_list</code></li>
<li><code>:destination_id</code></li>
<li><code>:country_code</code></li>
<li><code>:hotel_information</code></li>
<li><code>:filters</code></li>
</ul></li>
<li><p>Info </p>

<ul>
<li><code>:occupancy</code> is an array of rooms where each room is a hash with the following structure
<code>{ adult_count: x, child_count: y, child_ages: [a1...ay] }</code></li>
</ul></li>
</ul></li>
</ul></li>
<li><p><code>all_destinations_list</code></p>

<ul>
<li>Parameters
<ul>
<li>Optional
<ul>
<li><code>:language</code></li>
</ul></li>
</ul></li>
</ul></li>
</ul>

<h2>Contributing</h2>

<ol>
<li><a href="https://github.com/mariomuniz/vuelandia/fork">Fork it</a></li>
<li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li>
<li>Commit your changes (<code>git commit -am 'Add some feature'</code>)</li>
<li>Push to the branch (<code>git push origin my-new-feature</code>)</li>
<li>Create a new Pull Request</li>
</ol>
